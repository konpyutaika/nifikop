<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-v1.4.1 docs-doc-page docs-doc-id-3_manage_nifi/1_manage_clusters/1_deploy_cluster/2_nodes_configuration" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Nodes configuration · NiFiKop</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://konpyutaika.github.io/nifikop/img/logo-og.png"><meta data-rh="true" name="twitter:image" content="https://konpyutaika.github.io/nifikop/img/logo-og.png"><meta data-rh="true" property="og:url" content="https://konpyutaika.github.io/nifikop/docs/v1.4.1/3_manage_nifi/1_manage_clusters/1_deploy_cluster/2_nodes_configuration"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="v1.4.1"><meta data-rh="true" name="docusaurus_tag" content="docs-default-v1.4.1"><meta data-rh="true" name="docsearch:version" content="v1.4.1"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-v1.4.1"><meta data-rh="true" property="og:title" content="Nodes configuration · NiFiKop"><meta data-rh="true" name="description" content="In the quick start section, you deployed a simple NifiCluster resource, which deploys a NiFi cluster. But in many cases, you may need to tune the cluster nodes to match your needs."><meta data-rh="true" property="og:description" content="In the quick start section, you deployed a simple NifiCluster resource, which deploys a NiFi cluster. But in many cases, you may need to tune the cluster nodes to match your needs."><link data-rh="true" rel="icon" href="/nifikop/img/nifikop.ico"><link data-rh="true" rel="canonical" href="https://konpyutaika.github.io/nifikop/docs/v1.4.1/3_manage_nifi/1_manage_clusters/1_deploy_cluster/2_nodes_configuration"><link data-rh="true" rel="alternate" href="https://konpyutaika.github.io/nifikop/docs/v1.4.1/3_manage_nifi/1_manage_clusters/1_deploy_cluster/2_nodes_configuration" hreflang="en"><link data-rh="true" rel="alternate" href="https://konpyutaika.github.io/nifikop/docs/v1.4.1/3_manage_nifi/1_manage_clusters/1_deploy_cluster/2_nodes_configuration" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://VBPOAOSEIB-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/nifikop/blog/rss.xml" title="NiFiKop RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/nifikop/blog/atom.xml" title="NiFiKop Atom Feed">
<link rel="alternate" type="application/json" href="/nifikop/blog/feed.json" title="NiFiKop JSON Feed">




<link rel="search" type="application/opensearchdescription+xml" title="NiFiKop" href="/nifikop/opensearch.xml">



<script src="https://cdn.jsdelivr.net/npm/focus-visible@5.2.0/dist/focus-visible.min.js" defer="defer"></script>
<script src="https://snack.expo.io/embed.js" defer="defer"></script><link rel="stylesheet" href="/nifikop/assets/css/styles.09515774.css">
<script src="/nifikop/assets/js/runtime~main.6df7a6c2.js" defer="defer"></script>
<script src="/nifikop/assets/js/main.b13d921c.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/nifikop/img/nifikop.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_oPtH" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/nifikop/"><div class="navbar__logo"><img src="/nifikop/img/nifikop.png" alt="NiFiKop Logo" class="themedComponent_siVc themedComponent--light_hHel"><img src="/nifikop/img/nifikop.png" alt="NiFiKop Logo" class="themedComponent_siVc themedComponent--dark_yETr"></div><b class="navbar__title text--truncate">NiFiKop</b></a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/nifikop/docs/v1.4.1/3_manage_nifi/1_manage_clusters/1_deploy_cluster/2_nodes_configuration">v1.4.1</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/nifikop/docs/next/3_manage_nifi/1_manage_clusters/1_deploy_cluster/2_nodes_configuration">Next</a></li><li><a class="dropdown__link" href="/nifikop/docs/3_manage_nifi/1_manage_clusters/1_deploy_cluster/2_nodes_configuration">v1.12.0</a></li><li><a class="dropdown__link" href="/nifikop/docs/v1.11.4/3_manage_nifi/1_manage_clusters/1_deploy_cluster/2_nodes_configuration">v1.11.4</a></li><li><a class="dropdown__link" href="/nifikop/docs/v1.11.3/3_manage_nifi/1_manage_clusters/1_deploy_cluster/2_nodes_configuration">v1.11.3</a></li><li><a class="dropdown__link" href="/nifikop/docs/v1.11.2/3_manage_nifi/1_manage_clusters/1_deploy_cluster/2_nodes_configuration">v1.11.2</a></li><li><a class="dropdown__link" href="/nifikop/docs/v1.11.1/3_manage_nifi/1_manage_clusters/1_deploy_cluster/2_nodes_configuration">v1.11.1</a></li><li><a class="dropdown__link" href="/nifikop/docs/v1.11.0/3_manage_nifi/1_manage_clusters/1_deploy_cluster/2_nodes_configuration">v1.11.0</a></li><li><a class="dropdown__link" href="/nifikop/docs/v1.10.0/3_manage_nifi/1_manage_clusters/1_deploy_cluster/2_nodes_configuration">v1.10.0</a></li><li><a class="dropdown__link" href="/nifikop/docs/v1.9.0/3_manage_nifi/1_manage_clusters/1_deploy_cluster/2_nodes_configuration">v1.9.0</a></li><li><a class="dropdown__link" href="/nifikop/docs/v1.8.0/3_manage_nifi/1_manage_clusters/1_deploy_cluster/2_nodes_configuration">v1.8.0</a></li><li><a class="dropdown__link" href="/nifikop/docs/v1.7.0/3_manage_nifi/1_manage_clusters/1_deploy_cluster/2_nodes_configuration">v1.7.0</a></li><li><a class="dropdown__link" href="/nifikop/docs/v1.6.0/3_manage_nifi/1_manage_clusters/1_deploy_cluster/2_nodes_configuration">v1.6.0</a></li><li><a class="dropdown__link" href="/nifikop/docs/v1.5.0/3_manage_nifi/1_manage_clusters/1_deploy_cluster/2_nodes_configuration">v1.5.0</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/nifikop/docs/v1.4.1/3_manage_nifi/1_manage_clusters/1_deploy_cluster/2_nodes_configuration">v1.4.1</a></li><li><a class="dropdown__link" href="/nifikop/docs/v1.4.0/3_manage_nifi/1_manage_clusters/1_deploy_cluster/2_nodes_configuration">v1.4.0</a></li><li><a class="dropdown__link" href="/nifikop/docs/v1.3.1/3_manage_nifi/1_manage_clusters/1_deploy_cluster/2_nodes_configuration">v1.3.1</a></li><li><a class="dropdown__link" href="/nifikop/docs/v1.3.0/3_manage_nifi/1_manage_clusters/1_deploy_cluster/2_nodes_configuration">v1.3.0</a></li><li><a class="dropdown__link" href="/nifikop/docs/v1.2.0/3_manage_nifi/1_manage_clusters/1_deploy_cluster/2_nodes_configuration">v1.2.0</a></li><li><a class="dropdown__link" href="/nifikop/docs/v1.1.1/3_manage_nifi/1_manage_clusters/1_deploy_cluster/2_nodes_configuration">v1.1.1</a></li><li><a class="dropdown__link" href="/nifikop/docs/v1.1.0/3_manage_nifi/1_manage_clusters/1_deploy_cluster/2_nodes_configuration">v1.1.0</a></li><li><a class="dropdown__link" href="/nifikop/docs/v1.0.0/3_manage_nifi/1_manage_clusters/1_deploy_cluster/2_nodes_configuration">v1.0.0</a></li><li><a class="dropdown__link" href="/nifikop/docs/v0.16.0/3_manage_nifi/1_manage_clusters/1_deploy_cluster/2_nodes_configuration">v0.16.0</a></li><li><a class="dropdown__link" href="/nifikop/docs/v0.15.0/3_manage_nifi/1_manage_clusters/1_deploy_cluster/2_nodes_configuration">v0.15.0</a></li><li><a class="dropdown__link" href="/nifikop/docs/v0.14.1/3_manage_nifi/1_manage_clusters/1_deploy_cluster/2_nodes_configuration">v0.14.1</a></li><li><a class="dropdown__link" href="/nifikop/docs/v0.14.0/1_concepts/1_introduction">v0.14.0</a></li><li><a class="dropdown__link" href="/nifikop/docs/v0.13.0/1_concepts/1_introduction">v0.13.0</a></li><li><a class="dropdown__link" href="/nifikop/docs/v0.12.0/1_concepts/1_introduction">v0.12.0</a></li><li><a class="dropdown__link" href="/nifikop/docs/v0.11.0/1_concepts/1_introduction">v0.11.0</a></li><li><a class="dropdown__link" href="/nifikop/versions">All versions</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link header-doc-link" aria-label="Documentation" href="/nifikop/docs/1_concepts/1_start_here"></a><a class="navbar__item navbar__link header-blog-link" aria-label="Blog" href="/nifikop/blog"></a><a href="https://github.com/konpyutaika/nifikop" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_ki11 colorModeToggle_Hewu"><button class="clean-btn toggleButton_MMFG toggleButtonDisabled_Uw7m" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_lgto"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_U96C"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_bzqh"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_MB5r"><div class="docsWrapper__sE8"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_iEvu" type="button"></button><div class="docRoot_DfVB"><aside class="theme-doc-sidebar-container docSidebarContainer_c7NB"><div class="sidebarViewport_KYo0"><div class="sidebar_CUen"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_jmj1"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/nifikop/docs/v1.4.1/1_concepts/1_start_here">Concepts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/nifikop/docs/v1.4.1/2_deploy_nifikop/1_quick_start">Deploy NiFiKop</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/nifikop/docs/v1.4.1/3_manage_nifi/1_manage_clusters/0_design_principles">Manage NiFi</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/nifikop/docs/v1.4.1/3_manage_nifi/1_manage_clusters/0_design_principles">Manage cluster</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/nifikop/docs/v1.4.1/3_manage_nifi/1_manage_clusters/0_design_principles">Design Principles</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/nifikop/docs/v1.4.1/3_manage_nifi/1_manage_clusters/1_deploy_cluster/1_quick_start">Deploy cluster</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/nifikop/docs/v1.4.1/3_manage_nifi/1_manage_clusters/1_deploy_cluster/1_quick_start">Quick start</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/nifikop/docs/v1.4.1/3_manage_nifi/1_manage_clusters/1_deploy_cluster/2_nodes_configuration">Nodes configuration</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/nifikop/docs/v1.4.1/3_manage_nifi/1_manage_clusters/1_deploy_cluster/3_expose_cluster/1_kubernetes_service">Expose cluster</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/nifikop/docs/v1.4.1/3_manage_nifi/1_manage_clusters/1_deploy_cluster/4_ssl_configuration">SSL configuration</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/nifikop/docs/v1.4.1/3_manage_nifi/1_manage_clusters/1_deploy_cluster/5_users_authentication/1_oidc">Users authentication</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/nifikop/docs/v1.4.1/3_manage_nifi/1_manage_clusters/1_deploy_cluster/6_users_authorization/1_custom_user_authorizer">Users authorization</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/nifikop/docs/v1.4.1/3_manage_nifi/1_manage_clusters/2_cluster_scaling/1_scaling_mechanism">Cluster scaling</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/nifikop/docs/v1.4.1/3_manage_nifi/1_manage_clusters/3_external_cluster">External cluster</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/nifikop/docs/v1.4.1/3_manage_nifi/2_manage_users_and_accesses/1_users_management">Manage users &amp; accesses</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/nifikop/docs/v1.4.1/3_manage_nifi/3_manage_dataflows/0_design_principles">Manage DataFlows</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/nifikop/docs/v1.4.1/3_manage_nifi/4_manage_connections/1_deploy_connection">Manage Connections</a></div></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/nifikop/docs/v1.4.1/4_compatibility_versions">Compatibility versions</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/nifikop/docs/v1.4.1/5_references/1_nifi_cluster/">Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/nifikop/docs/v1.4.1/6_contributing/0_contribution_organization">Contributing</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/nifikop/docs/v1.4.1/7_upgrade_guides/1_v0.7.x_to_v0.8.0">Upgrade Guides</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_a9sJ"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_Qr34"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->NiFiKop<!-- --> <b>v1.4.1</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/nifikop/docs/3_manage_nifi/1_manage_clusters/1_deploy_cluster/2_nodes_configuration">latest version</a></b> (<!-- -->v1.12.0<!-- -->).</div></div><div class="docItemContainer_tjFy"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_T5ub" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/nifikop/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_sfvy"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Manage NiFi</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Manage cluster</span><meta itemprop="position" content="2"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Deploy cluster</span><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Nodes configuration</span><meta itemprop="position" content="4"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: v1.4.1</span><div class="tocCollapsible_wXna theme-doc-toc-mobile tocMobile_Ojys"><button type="button" class="clean-btn tocCollapsibleButton_iI2p">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Nodes configuration</h1></header><p>In the quick start section, you deployed a simple <code>NifiCluster</code> resource, which deploys a NiFi cluster. But in many cases, you may need to tune the cluster nodes to match your needs.
In this section, we&#x27;ll try to cover the various things that can be specified for cluster node configuration.</p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="readonlyconfig-and-nodeconfiggroups">ReadOnlyConfig and NodeConfigGroups<a href="#readonlyconfig-and-nodeconfiggroups" class="hash-link" aria-label="Direct link to ReadOnlyConfig and NodeConfigGroups" title="Direct link to ReadOnlyConfig and NodeConfigGroups">​</a></h2>
<p>To set up your <code>NiFi</code> cluster with <code>NiFiKop</code>, the first thing to understand is the difference between <code>readOnlyConfig</code> and <code>nodeConfigGroups</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="configure-multiple-node-groups">Configure multiple node groups<a href="#configure-multiple-node-groups" class="hash-link" aria-label="Direct link to Configure multiple node groups" title="Direct link to Configure multiple node groups">​</a></h3>
<p>In NiFiKop you can define different types of nodes using the <code>Spec.NodeConfigGroups</code> field. This field allows you to define as many node configurations as you want.
Once a <code>NodeConfigGroup</code> has been defined, you can define it with your node declaration to say &quot;I want to add a new node with this type of configuration&quot;.</p>
<p>The main purpose of a <a href="/nifikop/docs/v1.4.1/5_references/1_nifi_cluster/3_node_config">NodeConfigGroup</a> is to define the purely technical requirements for the pod that will be deployed (storage configurations, resource requirements, docker image, pod location, etc).</p>
<p>For example, you can have this node group configuration:</p>
<div class="language-yaml codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-yaml codeBlock_RMoD thin-scrollbar" style="color:#FFFFFF;background-color:#282C34"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#FFFFFF"><span class="token plain">  </span><span class="token comment" style="color:#93a1a1"># nodeConfigGroups specifies multiple node configs with unique name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">  </span><span class="token key atrule" style="color:#859900">nodeConfigGroups</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    </span><span class="token key atrule" style="color:#859900">default_group</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token comment" style="color:#93a1a1"># provenanceStorage allow to specify the maximum amount of data provenance information to store at a time</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token comment" style="color:#93a1a1"># https://nifi.apache.org/docs/nifi-docs/html/administration-guide.html#write-ahead-provenance-repository-properties</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">provenanceStorage</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;10 GB&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token comment" style="color:#93a1a1">#RunAsUser define the id of the user to run in the Nifi image</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token comment" style="color:#93a1a1"># +kubebuilder:validation:Minimum=1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">runAsUser</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">serviceAccountName</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;default&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token comment" style="color:#93a1a1"># resourceRequirements works exactly like Container resources, the user can specify the limit and the requests</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token comment" style="color:#93a1a1"># through this property</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token comment" style="color:#93a1a1"># https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">resourcesRequirements</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">limits</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token key atrule" style="color:#859900">cpu</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;2&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token key atrule" style="color:#859900">memory</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> 3Gi</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">requests</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token key atrule" style="color:#859900">cpu</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token key atrule" style="color:#859900">memory</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> 3Gi</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    </span><span class="token key atrule" style="color:#859900">high_mem_group</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token comment" style="color:#93a1a1"># provenanceStorage allow to specify the maximum amount of data provenance information to store at a time</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token comment" style="color:#93a1a1"># https://nifi.apache.org/docs/nifi-docs/html/administration-guide.html#write-ahead-provenance-repository-properties</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">provenanceStorage</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;10 GB&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token comment" style="color:#93a1a1">#RunAsUser define the id of the user to run in the Nifi image</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token comment" style="color:#93a1a1"># +kubebuilder:validation:Minimum=1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">runAsUser</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">serviceAccountName</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;default&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token comment" style="color:#93a1a1"># resourceRequirements works exactly like Container resources, the user can specify the limit and the requests</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token comment" style="color:#93a1a1"># through this property</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token comment" style="color:#93a1a1"># https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">resourcesRequirements</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">limits</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token key atrule" style="color:#859900">cpu</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;2&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token key atrule" style="color:#859900">memory</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> 30Gi</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">requests</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token key atrule" style="color:#859900">cpu</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token key atrule" style="color:#859900">memory</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> 30Gi</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In this example, we have defined two different node configurations:</p>
<ul>
<li>
<p><code>default_group</code>: Saying that we want <strong>3Gi</strong> of RAM for a node using this configuration.</p>
</li>
<li>
<p><code>high_mem_group</code>: Saying that we want <strong>30Gi</strong> of RAM for a node using this configuration.</p>
</li>
<li>
<p>Now we can declare the nodes of our cluster using this configuration:</p>
</li>
</ul>
<div class="language-yaml codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-yaml codeBlock_RMoD thin-scrollbar" style="color:#FFFFFF;background-color:#282C34"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#FFFFFF"><span class="token punctuation" style="color:#657b83">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#859900">id</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">  </span><span class="token key atrule" style="color:#859900">nodeConfigGroup</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;default_group&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#859900">id</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">  </span><span class="token key atrule" style="color:#859900">nodeConfigGroup</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;high_mem_group&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#859900">id</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">  </span><span class="token key atrule" style="color:#859900">nodeConfigGroup</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;high_mem_group&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#859900">id</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">  </span><span class="token key atrule" style="color:#859900">nodeConfig</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    </span><span class="token key atrule" style="color:#859900">resourcesRequirements</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">limits</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">cpu</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;2&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">memory</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> 3Gi</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">requests</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">cpu</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">memory</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> 1Gi</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In this example, you can see that we have defined one node using the node configuration <code>default_group</code> (id = 0), 2 nodes using <code>high_mem_group</code> (id = 2 and 3) and you also have the possibility to define the node configuration group directly at the node level (not reusable by another node) like for node 5.</p>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id="storage-management">Storage management<a href="#storage-management" class="hash-link" aria-label="Direct link to Storage management" title="Direct link to Storage management">​</a></h4>
<p>One of the most important configurations for a node in the case of a NiFi cluster is data persistence. As we run on kubernetes, whenever a pod is deleted, all data that is not stored on persistent storage will be lost, which is really bad for a statefull application like NiFi.
To avoid this, you can define how and what you want to persist in NiFi in the <a href="/nifikop/docs/v1.4.1/5_references/1_nifi_cluster/3_node_config">NodeConfigGroup</a>.</p>
<h5 class="anchor anchorWithStickyNavbar_JmGV" id="data-persistence">Data persistence<a href="#data-persistence" class="hash-link" aria-label="Direct link to Data persistence" title="Direct link to Data persistence">​</a></h5>
<p>The first way to define data persistence is to use the <a href="/nifikop/docs/v1.4.1/5_references/1_nifi_cluster/3_node_config#storageconfig">Spec.NodeConfigGroup.StorageConfig</a> field.</p>
<p>This field allows you to define a storage set giving:</p>
<ul>
<li><code>name</code>: a unique name to identify the storage config</li>
<li><code>metadata</code>: labels and annotations to attach to the PVC getting created.</li>
<li><code>pvcSpec</code>: a Kubernetes PVC spec definition</li>
<li><code>mountPath</code>: the path where the volume will be mounted into the main nifi container inside the pod (i.e the path were you want the data to be persisted).</li>
</ul>
<div class="theme-admonition theme-admonition-note admonition_WCGJ alert alert--secondary"><div class="admonitionHeading_GCBg"><span class="admonitionIcon_L39b"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_pbrs"><p>If you don&#x27;t replace them in the <code>nifi.properties</code> file using <a href="#nifi-configurations">NiFi-configurations</a>, here is a list of paths that should be associated with a storage configuration:</p><ul>
<li><code>/opt/nifi/data</code>: contains<!-- -->
<ul>
<li><code>/opt/nifi/data/flow.xml.gz</code>: flow configuration files</li>
<li><code>/opt/nifi/data/archive</code>: NiFi archive</li>
<li><code>/opt/nifi/data/templates</code>: templates directory</li>
<li><code>/opt/nifi/data/database_repository</code>: Database persistence</li>
</ul>
</li>
<li><code>/opt/nifi/nifi-current/logs</code>: NiFi logs files</li>
<li><code>/opt/nifi/flowfile_repository</code>: flowfiles repository</li>
<li><code>/opt/nifi/content_repository</code>: NiFi content repository</li>
<li><code>/opt/nifi/provenance_repository</code>: NiFi provenance repository</li>
<li><code>/opt/nifi/nifi-current/conf</code>: NiFi configurations</li>
</ul></div></div>
<p>Here is an example we use in production for to persist data:</p>
<div class="language-yaml codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-yaml codeBlock_RMoD thin-scrollbar" style="color:#FFFFFF;background-color:#282C34"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#FFFFFF"><span class="token punctuation" style="color:#657b83">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token key atrule" style="color:#859900">storageConfigs</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">  </span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#859900">mountPath</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> /opt/nifi/nifi</span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain">current/logs</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    </span><span class="token key atrule" style="color:#859900">name</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> logs</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    </span><span class="token key atrule" style="color:#859900">metadata</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">labels</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">my-label</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain">value</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">annotations</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">my-annotation</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain">value</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    </span><span class="token key atrule" style="color:#859900">pvcSpec</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">accessModes</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain"> ReadWriteOnce</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">resources</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">requests</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token key atrule" style="color:#859900">storage</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> 100Gi</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">storageClassName</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> ssd</span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain">wait</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">  </span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#859900">mountPath</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> /opt/nifi/data</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    </span><span class="token key atrule" style="color:#859900">name</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> data</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    </span><span class="token key atrule" style="color:#859900">metadata</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">labels</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">my-label</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain">value</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">annotations</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">my-annotation</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain">value</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    </span><span class="token key atrule" style="color:#859900">pvcSpec</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">accessModes</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain"> ReadWriteOnce</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">resources</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">requests</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token key atrule" style="color:#859900">storage</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> 50Gi</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">storageClassName</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> ssd</span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain">wait</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">  </span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#859900">mountPath</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> /opt/nifi/extensions</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    </span><span class="token key atrule" style="color:#859900">name</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> extensions</span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain">repository</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    </span><span class="token key atrule" style="color:#859900">metadata</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">labels</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">my-label</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain">value</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">annotations</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">my-annotation</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain">value</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    </span><span class="token key atrule" style="color:#859900">pvcSpec</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">accessModes</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain"> ReadWriteOnce</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">resources</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">requests</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token key atrule" style="color:#859900">storage</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> 5Gi</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">storageClassName</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> ssd</span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain">wait</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">  </span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#859900">mountPath</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> /opt/nifi/flowfile_repository</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    </span><span class="token key atrule" style="color:#859900">name</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> flowfile</span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain">repository</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    </span><span class="token key atrule" style="color:#859900">metadata</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">labels</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">my-label</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain">value</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">annotations</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">my-annotation</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain">value</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    </span><span class="token key atrule" style="color:#859900">pvcSpec</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">accessModes</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain"> ReadWriteOnce</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">resources</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">requests</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token key atrule" style="color:#859900">storage</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> 100Gi</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">storageClassName</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> ssd</span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain">wait</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">  </span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#859900">mountPath</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> /opt/nifi/nifi</span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain">current/conf</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    </span><span class="token key atrule" style="color:#859900">name</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> conf</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    </span><span class="token key atrule" style="color:#859900">metadata</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">labels</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">my-label</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain">value</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">annotations</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">my-annotation</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain">value</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    </span><span class="token key atrule" style="color:#859900">pvcSpec</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">accessModes</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain"> ReadWriteOnce</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">resources</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">requests</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token key atrule" style="color:#859900">storage</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> 5Gi</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">storageClassName</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> ssd</span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain">wait</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">  </span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#859900">mountPath</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> /opt/nifi/content_repository</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    </span><span class="token key atrule" style="color:#859900">name</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> content</span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain">repository</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    </span><span class="token key atrule" style="color:#859900">metadata</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">labels</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">my-label</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain">value</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">annotations</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">my-annotation</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain">value</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    </span><span class="token key atrule" style="color:#859900">pvcSpec</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">accessModes</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain"> ReadWriteOnce</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">resources</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">requests</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token key atrule" style="color:#859900">storage</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> 500Gi</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">storageClassName</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> ssd</span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain">wait</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">  </span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#859900">mountPath</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> /opt/nifi/provenance_repository</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    </span><span class="token key atrule" style="color:#859900">name</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> provenance</span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain">repository</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    </span><span class="token key atrule" style="color:#859900">metadata</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">labels</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">my-label</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain">value</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">annotations</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">my-annotation</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain">value</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    </span><span class="token key atrule" style="color:#859900">pvcSpec</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">accessModes</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain"> ReadWriteOnce</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">resources</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">requests</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token key atrule" style="color:#859900">storage</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> 500Gi</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_JmGV" id="external-volumes">External volumes<a href="#external-volumes" class="hash-link" aria-label="Direct link to External volumes" title="Direct link to External volumes">​</a></h5>
<p>In some cases, you may want to mount a volume that is not managed by the operator to add a configuration or persist data using an existing volume. To do this, use the <a href="/nifikop/docs/v1.4.1/5_references/1_nifi_cluster/3_node_config#externalvolumeconfig">Spec.NodeConfigGroup.StorageConfig</a> field.</p>
<div class="theme-admonition theme-admonition-info admonition_WCGJ alert alert--info"><div class="admonitionHeading_GCBg"><span class="admonitionIcon_L39b"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_pbrs"><p>For a complete overview of node configuration possibilities, please refer to the reference page <a href="/nifikop/docs/v1.4.1/5_references/1_nifi_cluster/3_node_config">NodeConfigGroup</a></p></div></div>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="nifi-configurations">NiFi configurations<a href="#nifi-configurations" class="hash-link" aria-label="Direct link to NiFi configurations" title="Direct link to NiFi configurations">​</a></h2>
<p>Once you have correctly defined the pods that will be deployed for your NiFi cluster, you may still have some configuration to do but at the NiFi level this time!
For this, the field to configure is <a href="/nifikop/docs/v1.4.1/5_references/1_nifi_cluster/2_read_only_config">ReadOnlyConfig</a> which can be used at the global level <code>Spec.ReadOnlyConfig</code> or at the node level like for <code>NodeConfigGroup</code>.</p>
<p>There is some configuration that can be passed directly into this field like:</p>
<ul>
<li><strong>maximumTimerDrivenThreadCount</strong>: define the maximum number of threads for timer driven processors available to the system.</li>
<li><strong>maximumEventDrivenThreadCount</strong>: define the maximum number of threads for event driven processors available to the system.</li>
</ul>
<p>And other configurations (e.g. configuration files) that can be defined using <code>kubernetes Secret</code>, <code>ConfigMap</code> or directly using the <code>override</code> field.</p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="configmap-secret-inline">ConfigMap, Secret, Inline<a href="#configmap-secret-inline" class="hash-link" aria-label="Direct link to ConfigMap, Secret, Inline" title="Direct link to ConfigMap, Secret, Inline">​</a></h3>
<p>For most of the configuration files that can be overwritten (see section below), there are 4 ways to define the configuration:</p>
<ul>
<li><code>default</code>: if nothing is specified, a default configuration is defined by the operator and will be used as is.</li>
<li><code>kubernetes secret</code>: you reference a data key in a secret that will contain your configuration (used to define sensitive configurations like client secret, password, etc.)</li>
<li><code>kubernetes configMap</code>: you reference a data key in a configMap that will contain your configuration.</li>
<li><code>override field</code>: you define the configuration directly in the <code>NiFiCluster</code> object using a string.</li>
</ul>
<p>When more than one configuration type is defined, the following priority is applied when the same configuration field is defined more than once: <code>Secret</code> &gt; <code>ConfigMap</code> &gt; <code>Override</code> &gt; <code>Default</code>, which follow the security priority.</p>
<p>Let&#x27;s take an example:</p>
<div class="language-yaml codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-yaml codeBlock_RMoD thin-scrollbar" style="color:#FFFFFF;background-color:#282C34"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#FFFFFF"><span class="token plain"> </span><span class="token key atrule" style="color:#859900">nifiProperties</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token comment" style="color:#93a1a1"># Additionnal nifi.properties configuration that will override the one produced based on template and</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token comment" style="color:#93a1a1"># configuration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">overrideConfigMap</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token comment" style="color:#93a1a1"># The key of the value,in data content, that we want use.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">data</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> nifi.properties</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token comment" style="color:#93a1a1"># Name of the configmap that we want to refer.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">name</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> raw</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token comment" style="color:#93a1a1"># Namespace where is located the secret that we want to refer.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">namespace</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> nifikop</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token comment" style="color:#93a1a1"># Additionnal nifi.properties configuration that will override the one produced based</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token comment" style="color:#93a1a1">#	on template, configurations, overrideConfigMap and overrideConfigs.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">overrideSecretConfig</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token comment" style="color:#93a1a1"># The key of the value,in data content, that we want use.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">data</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> nifi.properties</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token comment" style="color:#93a1a1"># Name of the configmap that we want to refer.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">name</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> raw</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token comment" style="color:#93a1a1"># Namespace where is located the secret that we want to refer.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">namespace</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> nifikop</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token comment" style="color:#93a1a1"># Additionnal nifi.properties configuration that will override the one produced based</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token comment" style="color:#93a1a1">#	on template, configurations and overrideConfigMap</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">overrideConfigs</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">|</span><span class="token scalar string" style="color:#8dc891"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token scalar string" style="color:#8dc891">        nifi.ui.banner.text=NiFiKop</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token scalar string" style="color:#8dc891">        nifi.sensitive.props.key=thisIsABadSensitiveKeyPassword</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In this example if we have the <code>nifi.sensitive.props.key</code> key defined in the secret <code>raw</code>, it will override the one defined in <code>overrideConfigs</code> field.</p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="overridable-configurations">Overridable configurations<a href="#overridable-configurations" class="hash-link" aria-label="Direct link to Overridable configurations" title="Direct link to Overridable configurations">​</a></h3>
<p>Here is the list of configuration that you can override for NiFi:</p>
<ul>
<li><a href="https://github.com/konpyutaika/nifikop/blob/master/pkg/resources/templates/config/nifi_properties.go" target="_blank" rel="noopener noreferrer">nifi.properties</a></li>
<li><a href="https://github.com/konpyutaika/nifikop/blob/master/pkg/resources/templates/config/zookeeper_properties.go" target="_blank" rel="noopener noreferrer">zookeeper.properties</a></li>
<li><a href="https://github.com/konpyutaika/nifikop/blob/master/pkg/resources/templates/config/bootstrap_properties.go" target="_blank" rel="noopener noreferrer">bootstrap.properties</a></li>
<li><a href="https://github.com/konpyutaika/nifikop/blob/master/pkg/resources/templates/config/logback.xml.go" target="_blank" rel="noopener noreferrer">logback.xml</a></li>
<li><a href="https://github.com/konpyutaika/nifikop/blob/master/pkg/resources/templates/config/authorizers.go" target="_blank" rel="noopener noreferrer">authorizers.xml</a></li>
<li><a href="https://github.com/konpyutaika/nifikop/blob/master/pkg/resources/templates/config/bootstrap_notifications_services.go" target="_blank" rel="noopener noreferrer">bootstrap_notification_services.xml</a></li>
</ul>
<div class="theme-admonition theme-admonition-warning admonition_WCGJ alert alert--warning"><div class="admonitionHeading_GCBg"><span class="admonitionIcon_L39b"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_pbrs"><p>Keep in mind that some changes to the default configuration may cause the operator&#x27;s behavior to break, so keep that in mind!
Just because it&#x27;s allowed doesn&#x27;t mean it works 😄.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="advanced-configuration">Advanced configuration<a href="#advanced-configuration" class="hash-link" aria-label="Direct link to Advanced configuration" title="Direct link to Advanced configuration">​</a></h2>
<p>In some cases, using the default content or provenance configuration for storage may not be sufficient, for example you may need to create multiple directories for your content or provenance repository in order to <a href="https://community.cloudera.com/t5/Community-Articles/HDF-CFM-NIFI-Best-practices-for-setting-up-a-high/ta-p/244999" target="_blank" rel="noopener noreferrer">set up a high performance installation</a>.
As described in the NiFi Administration Guide, you can do this by using the <a href="https://nifi.apache.org/docs/nifi-docs/html/administration-guide.html#file-system-content-repository-properties" target="_blank" rel="noopener noreferrer">nifi.content.repository.directory.default*</a> and <a href="https://nifi.apache.org/docs/nifi-docs/html/administration-guide.html#write-ahead-provenance-repository-properties" target="_blank" rel="noopener noreferrer">nifi.provenance.repository.directory.default*</a> properties.</p>
<p>Here is an example of how to do this in the <code>NiFiCluster</code> configuration:</p>
<div class="language-yaml codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-yaml codeBlock_RMoD thin-scrollbar" style="color:#FFFFFF;background-color:#282C34"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#FFFFFF"><span class="token punctuation" style="color:#657b83">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">  </span><span class="token key atrule" style="color:#859900">readOnlyConfig</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    </span><span class="token key atrule" style="color:#859900">nifiProperties</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">overrideConfigs</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">|</span><span class="token scalar string" style="color:#8dc891"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token scalar string" style="color:#8dc891">        nifi.content.repository.directory.dir1=../content-additional/dir1</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token scalar string" style="color:#8dc891">        nifi.content.repository.directory.dir2=../content-additional/dir2</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token scalar string" style="color:#8dc891">        nifi.content.repository.directory.dir3=../content-additional/dir3</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token scalar string" style="color:#8dc891">        nifi.provenance.repository.directory.dir1=../provenance-additional/dir1</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token scalar string" style="color:#8dc891">        nifi.provenance.repository.directory.dir2=../provenance-additional/dir2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token punctuation" style="color:#657b83">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">  </span><span class="token key atrule" style="color:#859900">nodeConfigGroups</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    </span><span class="token key atrule" style="color:#859900">default_group</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token punctuation" style="color:#657b83">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token key atrule" style="color:#859900">storageConfigs</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#859900">mountPath</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;/opt/nifi/content-additional/dir1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">name</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> content</span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain">repository</span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain">dir1</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">metadata</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token key atrule" style="color:#859900">labels</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">            </span><span class="token key atrule" style="color:#859900">my-label</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain">value</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token key atrule" style="color:#859900">annotations</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">            </span><span class="token key atrule" style="color:#859900">my-annotation</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain">value</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">pvcSpec</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token key atrule" style="color:#859900">accessModes</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">            </span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain"> ReadWriteOnce</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token key atrule" style="color:#859900">storageClassName</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"> storageClassName </span><span class="token punctuation" style="color:#657b83">}</span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token key atrule" style="color:#859900">resources</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">            </span><span class="token key atrule" style="color:#859900">requests</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">              </span><span class="token key atrule" style="color:#859900">storage</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> 100G</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#859900">mountPath</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;/opt/nifi/content-additional/dir2&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">name</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> content</span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain">repository</span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain">dir2</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">metadata</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token key atrule" style="color:#859900">labels</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">            </span><span class="token key atrule" style="color:#859900">my-label</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain">value</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token key atrule" style="color:#859900">annotations</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">            </span><span class="token key atrule" style="color:#859900">my-annotation</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain">value</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">pvcSpec</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token key atrule" style="color:#859900">accessModes</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">            </span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain"> ReadWriteOnce</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token key atrule" style="color:#859900">storageClassName</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"> storageClassName </span><span class="token punctuation" style="color:#657b83">}</span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token key atrule" style="color:#859900">resources</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">            </span><span class="token key atrule" style="color:#859900">requests</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">              </span><span class="token key atrule" style="color:#859900">storage</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> 100G</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#859900">mountPath</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;/opt/nifi/content-additional/dir3&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">name</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> content</span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain">repository</span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain">dir3</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">metadata</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token key atrule" style="color:#859900">labels</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">            </span><span class="token key atrule" style="color:#859900">my-label</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain">value</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token key atrule" style="color:#859900">annotations</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">            </span><span class="token key atrule" style="color:#859900">my-annotation</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain">value</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">pvcSpec</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token key atrule" style="color:#859900">accessModes</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">            </span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain"> ReadWriteOnce</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token key atrule" style="color:#859900">storageClassName</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"> storageClassName </span><span class="token punctuation" style="color:#657b83">}</span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token key atrule" style="color:#859900">resources</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">            </span><span class="token key atrule" style="color:#859900">requests</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">              </span><span class="token key atrule" style="color:#859900">storage</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> 100G</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#859900">mountPath</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;/opt/nifi/provenance-additional/dir1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">name</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> provenance</span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain">repository</span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain">dir1</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">metadata</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token key atrule" style="color:#859900">labels</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">            </span><span class="token key atrule" style="color:#859900">my-label</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain">value</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token key atrule" style="color:#859900">annotations</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">            </span><span class="token key atrule" style="color:#859900">my-annotation</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain">value</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">pvcSpec</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token key atrule" style="color:#859900">accessModes</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">            </span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain"> ReadWriteOnce</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token key atrule" style="color:#859900">storageClassName</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"> storageClassName </span><span class="token punctuation" style="color:#657b83">}</span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token key atrule" style="color:#859900">resources</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">            </span><span class="token key atrule" style="color:#859900">requests</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">              </span><span class="token key atrule" style="color:#859900">storage</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> 100G</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#859900">mountPath</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;/opt/nifi/provenance-additional/dir2&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">name</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> provenance</span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain">repository</span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain">dir2</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">metadata</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token key atrule" style="color:#859900">labels</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">            </span><span class="token key atrule" style="color:#859900">my-label</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain">value</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token key atrule" style="color:#859900">annotations</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">            </span><span class="token key atrule" style="color:#859900">my-annotation</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain">value</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        </span><span class="token key atrule" style="color:#859900">pvcSpec</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token key atrule" style="color:#859900">accessModes</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">            </span><span class="token punctuation" style="color:#657b83">-</span><span class="token plain"> ReadWriteOnce</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token key atrule" style="color:#859900">storageClassName</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"> storageClassName </span><span class="token punctuation" style="color:#657b83">}</span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">          </span><span class="token key atrule" style="color:#859900">resources</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">            </span><span class="token key atrule" style="color:#859900">requests</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">              </span><span class="token key atrule" style="color:#859900">storage</span><span class="token punctuation" style="color:#657b83">:</span><span class="token plain"> 100G</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">      </span><span class="token punctuation" style="color:#657b83">...</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/konpyutaika/nifikop/edit/master/site/website/versioned_docs/version-v1.4.1/3_manage_nifi/1_manage_clusters/1_deploy_cluster/2_nodes_configuration.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_bHB7" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_ydrU"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-02-05T14:56:27.000Z" itemprop="dateModified">Feb 5, 2024</time></b> by <b>Juldrixx</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/nifikop/docs/v1.4.1/3_manage_nifi/1_manage_clusters/1_deploy_cluster/1_quick_start"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Quick start</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/nifikop/docs/v1.4.1/3_manage_nifi/1_manage_clusters/1_deploy_cluster/3_expose_cluster/1_kubernetes_service"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Kubernetes service</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_XG6w thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#readonlyconfig-and-nodeconfiggroups" class="table-of-contents__link toc-highlight">ReadOnlyConfig and NodeConfigGroups</a><ul><li><a href="#configure-multiple-node-groups" class="table-of-contents__link toc-highlight">Configure multiple node groups</a></li></ul></li><li><a href="#nifi-configurations" class="table-of-contents__link toc-highlight">NiFi configurations</a><ul><li><a href="#configmap-secret-inline" class="table-of-contents__link toc-highlight">ConfigMap, Secret, Inline</a></li><li><a href="#overridable-configurations" class="table-of-contents__link toc-highlight">Overridable configurations</a></li></ul></li><li><a href="#advanced-configuration" class="table-of-contents__link toc-highlight">Advanced configuration</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Getting Started</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/nifikop/docs/1_concepts/1_start_here">Documentation</a></li><li class="footer__item"><a href="https://github.com/konpyutaika/nifikop" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://join.slack.com/t/konpytika/shared_invite/zt-14md072lv-Jr8mqYoeUrqzfZF~YGUpXA" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/nifikop/blog">Blog</a></li></ul></div><div class="col footer__col"><div class="footer__title">Contact</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/konpyutaika/nifikop/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Feature request<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Orange, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>