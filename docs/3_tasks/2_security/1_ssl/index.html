<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus">


<title data-react-helmet="true">Securing NiFi with SSL | NiFiKop</title>

<meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"><meta data-react-helmet="true" property="og:title" content="NiFiKop"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" name="description" content="The `NiFi operator` makes securing your NiFi cluster with SSL. You may provide your own certificates, or instruct the operator to create them for from your cluster configuration."><meta data-react-helmet="true" property="og:description" content="The `NiFi operator` makes securing your NiFi cluster with SSL. You may provide your own certificates, or instruct the operator to create them for from your cluster configuration."><meta data-react-helmet="true" property="og:url" content="https://orange-opensource.github.io/nifikop/docs/3_tasks/2_security/1_ssl">

<link data-react-helmet="true" rel="shortcut icon" href="/nifikop/img/nifikop.ico">


<link rel="stylesheet" href="/nifikop/styles.dcb18faf.css">


<link rel="preload" href="/nifikop/styles.fc6059d5.js" as="script">

<link rel="preload" href="/nifikop/runtime~main.66f38fa7.js" as="script">

<link rel="preload" href="/nifikop/main.517e2cd8.js" as="script">

<link rel="preload" href="/nifikop/1.a7224f63.js" as="script">

<link rel="preload" href="/nifikop/2.04f92f26.js" as="script">

<link rel="preload" href="/nifikop/3.535b589c.js" as="script">

<link rel="preload" href="/nifikop/1be78505.0706453b.js" as="script">

<link rel="preload" href="/nifikop/4a20246b.62e51ece.js" as="script">

<link rel="preload" href="/nifikop/17896441.9631df1f.js" as="script">

<link rel="preload" href="/nifikop/27675046.5cc37da0.js" as="script">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}function e(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}var n=window.matchMedia("(prefers-color-scheme: dark)");n.addListener((function(n){null===e()&&t(n.matches?"dark":"")}));var a=e();null!==a?t(a):n.matches&&t("dark")}()</script>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}function e(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}var n=window.matchMedia("(prefers-color-scheme: dark)");n.addListener((function(n){null===e()&&t(n.matches?"dark":"")}));var a=e();null!==a?t(a):n.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/nifikop/"><img class="navbar__logo" src="/nifikop/img/nifikop.png" alt="NiFiKop Logo"><strong>NiFiKop</strong></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/nifikop/docs/1_concepts/1_introduction">Docs</a><a class="navbar__item navbar__link" href="/nifikop/blog">Blog</a><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://github.com/Orange-OpenSource/nifikop">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/nifikop/"><img class="navbar__logo" src="/nifikop/img/nifikop.png" alt="NiFiKop Logo"><strong>NiFiKop</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/nifikop/docs/1_concepts/1_introduction">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/nifikop/blog">Blog</a></li><li class="menu__list-item"><a class="menu__link" target="_blank" rel="noopener noreferrer" href="https://github.com/Orange-OpenSource/nifikop">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="sidebarLogo_3ono"><img src="/nifikop/img/nifikop.png" alt="NiFiKop Logo"><strong>NiFiKop</strong></div><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Concepts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/nifikop/docs/1_concepts/1_introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" href="/nifikop/docs/1_concepts/2_design_principes">Design Principes</a></li><li class="menu__list-item"><a class="menu__link" href="/nifikop/docs/1_concepts/3_features">Features</a></li><li class="menu__list-item"><a class="menu__link" href="/nifikop/docs/1_concepts/4_roadmap">Roadmap</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Setup</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/nifikop/docs/2_setup/1_getting_started">Getting Started</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Platform Setup</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/nifikop/docs/2_setup/2_platform_setup/1_gke">Google Kubernetes Engine</a></li><li class="menu__list-item"><a class="menu__link" href="/nifikop/docs/2_setup/2_platform_setup/2_minikube">MiniKube</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Install</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/nifikop/docs/2_setup/3_install/1_customizable_install_with_helm">Customizable install with Helm</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Tasks</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">NiFi Cluster</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/nifikop/docs/3_tasks/1_nifi_cluster/2_cluster_scaling">Cluster Scaling</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Security</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/nifikop/docs/3_tasks/2_security/1_ssl">SSL</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Authentication</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/nifikop/docs/3_tasks/2_security/2_authentication/1_oidc">OpenId Connect</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/nifikop/docs/3_tasks/3_nifi_dataflow">NiFi Dataflows</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Examples</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/nifikop/docs/4_examples/1_simple_nifi_cluster">Simple NiFi cluster</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Reference</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">NiFi Cluster</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/nifikop/docs/5_references/1_nifi_cluster/1_nifi_cluster">NiFi cluster</a></li><li class="menu__list-item"><a class="menu__link" href="/nifikop/docs/5_references/1_nifi_cluster/2_read_only_config">Read only configurations</a></li><li class="menu__list-item"><a class="menu__link" href="/nifikop/docs/5_references/1_nifi_cluster/3_node_config">Node configuration</a></li><li class="menu__list-item"><a class="menu__link" href="/nifikop/docs/5_references/1_nifi_cluster/4_node">Node</a></li><li class="menu__list-item"><a class="menu__link" href="/nifikop/docs/5_references/1_nifi_cluster/5_node_state">Node state</a></li><li class="menu__list-item"><a class="menu__link" href="/nifikop/docs/5_references/1_nifi_cluster/6_listeners_config">Listeners Config</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/nifikop/docs/5_references/2_nifi_user">NiFi user</a></li><li class="menu__list-item"><a class="menu__link" href="/nifikop/docs/5_references/3_nifi_registry_client">NiFi Registry Client</a></li><li class="menu__list-item"><a class="menu__link" href="/nifikop/docs/5_references/4_nifi_parameter_context">NiFi Parameter Context</a></li><li class="menu__list-item"><a class="menu__link" href="/nifikop/docs/5_references/5_nifi_dataflow">NiFi Dataflow</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Contributing</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/nifikop/docs/6_contributing/1_developer_guide">Developer guide</a></li><li class="menu__list-item"><a class="menu__link" href="/nifikop/docs/6_contributing/2_reporting_bugs">Reporting bugs</a></li><li class="menu__list-item"><a class="menu__link" href="/nifikop/docs/6_contributing/3_credits">Credits</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">Securing NiFi with SSL</h1></header><div class="markdown"><p>The <code>NiFi operator</code> makes securing your NiFi cluster with SSL. You may provide your own certificates, or instruct the operator to create them for from your cluster configuration.</p><p>Below this is an example configuration required to secure your cluster with SSL : </p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-yaml codeBlock_2GNs"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1Zmi">Copy</button><code class="codeBlockLines__q0i" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token key atrule">apiVersion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> nifi.orange.com/v1alpha1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">kind</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> NifiCluster</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">spec</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">clusterSecure</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">siteToSiteSecure</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">initialAdminUser</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> aguitton.ext@orange.com</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">readOnlyConfig</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># NifiProperties configuration that will be applied to the node.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">nifiProperties</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">webProxyHosts</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> nifistandard2.trycatchlearn.fr</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token number" style="color:rgb(247, 140, 108)">8443</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">listenersConfig</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">internalListeners</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">type</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;https&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;https&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">containerPort</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">8443</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">type</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;cluster&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;cluster&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">containerPort</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">6007</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">type</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;s2s&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;s2s&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">containerPort</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10000</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">sslSecrets</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">tlsSecretName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;test-nifikop&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">create</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span></div></code></pre></div><ul><li><code>clusterSecure</code> : cluster nodes secure mode : <a href="https://nifi.apache.org/docs/nifi-docs/html/administration-guide.html#cluster_common_properties">https://nifi.apache.org/docs/nifi-docs/html/administration-guide.html#cluster_common_properties</a>.</li><li><code>siteToSiteSecure</code> : site to Site properties Secure mode : <a href="https://nifi.apache.org/docs/nifi-docs/html/administration-guide.html#site_to_site_properties">https://nifi.apache.org/docs/nifi-docs/html/administration-guide.html#site_to_site_properties</a>.</li><li><code>initialAdminUser</code> : name of the user account which will be configured as initial admin into NiFi cluster : <a href="https://nifi.apache.org/docs/nifi-docs/html/administration-guide.html#initial-admin-identity">https://nifi.apache.org/docs/nifi-docs/html/administration-guide.html#initial-admin-identity</a></li><li><code>readOnlyConfig.nifiProperties.webProxyHosts</code> : A list of allowed HTTP Host header values to consider when NiFi is running securely and will be receiving requests to a different host[:port] than it is bound to. <a href="https://nifi.apache.org/docs/nifi-docs/html/administration-guide.html#web-properties">web-properties</a></li></ul><p>If <code>listenersConfig.sslSecrets.create</code> is set to <code>false</code>, the operator will look for the secret at <code>listenersConfig.sslSecrets.tlsSecretName</code> and expect these values :</p><table><thead><tr><th>key</th><th>value</th></tr></thead><tbody><tr><td>caCert</td><td>The CA certificate</td></tr><tr><td>caKey</td><td>The CA private key</td></tr><tr><td>clientCert</td><td>A client certificate (this will be used by operator for NiFI operations)</td></tr><tr><td>clientKey</td><td>The private key for clientCert</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="using-an-existing-issuer"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#using-an-existing-issuer" title="Direct link to heading">#</a>Using an existing Issuer</h2><p>As described in the <a href="/nifikop/docs/5_references/1_nifi_cluster/6_listeners_config#sslsecrets">Reference section</a>, instead of using a self-signed certificate as CA, you can use an existing one.
In order to do so, you only have to refer it into your <code>Spec.ListenerConfig.SslSecrets.IssuerRef</code> field. </p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="example--lets-encrypt"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#example--lets-encrypt" title="Direct link to heading">#</a>Example : Let&#x27;s encrypt</h3><p>Let&#x27;s say you have an existing DNS server, with <a href="https://github.com/kubernetes-sigs/external-dns">external dns</a> deployed into your cluster&#x27;s namespace.
You can easily use Let&#x27;s encrypt as authority for your certificate. </p><p>To do this, you have to : </p><ol><li>Create an issuer : </li></ol><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-yaml codeBlock_2GNs"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1Zmi">Copy</button><code class="codeBlockLines__q0i" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token key atrule">apiVersion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> cert</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">manager.io/v1alpha2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">kind</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Issuer</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">metadata</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> letsencrypt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">staging</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">spec</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">acme</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># You must replace this email address with your own.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Let&#x27;s Encrypt will use this to contact you about expiring</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># certificates, and issues related to your account.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">email</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> &lt;your email address</span><span class="token punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">server</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> https</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">//acme</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">staging</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">v02.api.letsencrypt.org/directory</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">privateKeySecretRef</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Secret resource used to store the account&#x27;s private key.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> example</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">issuer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">account</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">key</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Add a single challenge solver, HTTP01 using nginx</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">solvers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">http01</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token key atrule">ingress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token key atrule">ingressTemplate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">              </span><span class="token key atrule">metadata</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token key atrule">annotations</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                  </span><span class="token key atrule">&quot;external-dns.alpha.kubernetes.io/ttl&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;5&quot;</span></div></code></pre></div><ol start="2"><li>Setup External dns and correctly create your issuer into your cluster configuration : </li></ol><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-yaml codeBlock_2GNs"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1Zmi">Copy</button><code class="codeBlockLines__q0i" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token key atrule">apiVersion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> nifi.orange.com/v1alpha1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">kind</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> NifiCluster</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">spec</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">clusterSecure</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">siteToSiteSecure</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">listenersConfig</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">clusterDomain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> &lt;DNS zone name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">useExternalDNS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">sslSecrets</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">tlsSecretName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;test-nifikop&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">create</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">issuerRef</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> letsencrypt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">staging</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">kind</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Issuer</span></div></code></pre></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="create-ssl-credentials"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#create-ssl-credentials" title="Direct link to heading">#</a>Create SSL credentials</h2><p>You may use <code>NifiUser</code> resource to create new certificates for your applications, allowing them to query your Nifi cluster.</p><p>To create a new client you will need to generate new certificates sign by the CA. The operator can automate this for you using the <code>NifiUser</code> CRD : </p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-console codeBlock_2GNs"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1Zmi">Copy</button><code class="codeBlockLines__q0i" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">cat &lt;&lt; EOF | kubectl apply -n nifi -f -</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">apiVersion:  nifi.orange.com/v1alpha1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">kind: NifiUser</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">metadata:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  name: example-client</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  namespace: nifi</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">spec:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  clusterRef:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    name: nifi</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  secretName: example-client-secret</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">EOF</span></div></code></pre></div><p>This will create a user and store its credentials in the secret <code>example-client-secret</code>. The secret contains these fields : </p><table><thead><tr><th>key</th><th>value</th></tr></thead><tbody><tr><td>ca.crt</td><td>The CA certificate</td></tr><tr><td>tls.crt</td><td>The user certificate</td></tr><tr><td>tls.key</td><td>The user private key</td></tr></tbody></table><p>You can then mount these secret to your pod. Alternatively, you can write them to your local machine by running:</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-console codeBlock_2GNs"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1Zmi">Copy</button><code class="codeBlockLines__q0i" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl get secret example-client-secret -o jsonpath=&quot;{[&#x27;data&#x27;][&#x27;ca\.crt&#x27;]}&quot; | base64 -d &gt; ca.crt</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl get secret example-client-secret -o jsonpath=&quot;{[&#x27;data&#x27;][&#x27;tls\.crt&#x27;]}&quot; | base64 -d &gt; tls.crt</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl get secret example-client-secret -o jsonpath=&quot;{[&#x27;data&#x27;][&#x27;tls\.key&#x27;]}&quot; | base64 -d &gt; tls.key</span></div></code></pre></div><p>The operator can also include a Java keystore format (JKS) with your user secret if you&#x27;d like. Add <code>includeJKS</code>: <code>true</code> to the <code>spec</code> like shown above, and then the user-secret will gain these additional fields :</p><table><thead><tr><th>key</th><th>value</th></tr></thead><tbody><tr><td>tls.jks</td><td>The java keystore containing both the user keys and the CA (use this for your keystore AND truststore)</td></tr><tr><td>pass.txt</td><td>The password to decrypt the JKS (this will be randomly generated)</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="current-limitations"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#current-limitations" title="Direct link to heading">#</a>Current limitations</h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="operator-access-policies"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#operator-access-policies" title="Direct link to heading">#</a>Operator access policies</h3><p>For the current version of the operator, the access policies are still not managed (refer to the <a href="/nifikop/docs/1_concepts/4_roadmap#authentification-management">Roadmap page</a>).
That&#x27;s why when you deploy a cluster in a secure mode, you have to define an <code>Initial admin</code>, which is a user account, that you will use to access to the cluster and add the <code>view</code> and <code>modify</code> access to the <code>access the controller</code> policy.</p><p>If you check the controller log you should have the following error : </p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-json codeBlock_2GNs"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1Zmi">Copy</button><code class="codeBlockLines__q0i" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;level&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;error&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;ts&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token number" style="color:rgb(247, 140, 108)">1589974514.048613</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;logger&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;nifi_client&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;msg&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Error during talking to nifi node&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;error&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;403 Forbidden&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;stacktrace&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;github.com/go-logr/zapr.(*zapLogger).Error\n\t/go/pkg/mod/github.com/go-logr/zapr@v0.1.1/zapr.go:128\ngithub.com/Orange-OpenSource/nifikop/pkg/nificlient.(*nifiClient).DescribeCluster\n\tnifikop/pkg/nificlient/system.go:22\ngithub.com/Orange-OpenSource/nifikop/pkg/nificlient.(*nifiClient).Build\n\tnifikop/pkg/nificlient/client.go:70\ngithub.com/Orange-OpenSource/nifikop/pkg/nificlient.NewFromCluster\n\tnifikop/pkg/nificlient/client.go:92\ngithub.com/Orange-OpenSource/nifikop/pkg/controller/common.NewNodeConnection\n\tnifikop/pkg/controller/common/controller_common.go:68\ngithub.com/Orange-OpenSource/nifikop/pkg/scale.EnsureRemovedNodes\n\tnifikop/pkg/scale/scale.go:210\ngithub.com/Orange-OpenSource/nifikop/pkg/resources/nifi.(*Reconciler).Reconcile\n\tnifikop/pkg/resources/nifi/nifi.go:186\ngithub.com/Orange-OpenSource/nifikop/pkg/controller/nificluster.(*ReconcileNifiCluster).Reconcile\n\tnifikop/pkg/controller/nificluster/nificluster_controller.go:146\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.4.0/pkg/internal/controller/controller.go:256\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.4.0/pkg/internal/controller/controller.go:232\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).worker\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.4.0/pkg/internal/controller/controller.go:211\nk8s.io/apimachinery/pkg/util/wait.JitterUntil.func1\n\t/go/pkg/mod/k8s.io/apimachinery@v0.0.0-20191004115801-a2eda9f80ab8/pkg/util/wait/wait.go:152\nk8s.io/apimachinery/pkg/util/wait.JitterUntil\n\t/go/pkg/mod/k8s.io/apimachinery@v0.0.0-20191004115801-a2eda9f80ab8/pkg/util/wait/wait.go:153\nk8s.io/apimachinery/pkg/util/wait.Until\n\t/go/pkg/mod/k8s.io/apimachinery@v0.0.0-20191004115801-a2eda9f80ab8/pkg/util/wait/wait.go:88&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></code></pre></div><ol><li>To do this, you have to connect on your cluster and go into the users page : </li></ol><p><img src="/nifikop/img/3_tasks/2_security/1_ssl/users.png" alt="users page"></p><ol start="2"><li>Create a new user entry with <code>&lt;NifiCluster&#x27;s name&gt;-controller.&lt;NifiCluster&#x27;s namespace&gt;.mgt.cluster.local</code> name, this the name of the <code>NifiUser</code> associated to the operator :
For example for the the <code>NifiCluster</code> <strong>sslnifi</strong> deployed into the namespace <strong>nifi</strong> we have the following configuration : </li></ol><p><img src="/nifikop/img/3_tasks/2_security/1_ssl/add_user_controller.png" alt="add controller&#x27;s user"></p><ol start="3"><li>Now we will add the required policies, so go to the <code>Access Policies</code> page : </li></ol><p><img src="/nifikop/img/3_tasks/2_security/1_ssl/access_policies_page.png" alt="Access policies page"></p><ol start="4"><li>And add the operator&#x27;s user the right to <code>view</code> and <code>modify</code> to the <code>access the controller</code> policy.</li></ol><p><img src="/nifikop/img/3_tasks/2_security/1_ssl/access_conrtoller_view.png" alt="Access Controller view"></p><p><img src="/nifikop/img/3_tasks/2_security/1_ssl/access_conrtoller_modify.png" alt="Access Controller modify"></p><p>If you check once again the logs, you no longer have the error.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="scale-up---node-declaration"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#scale-up---node-declaration" title="Direct link to heading">#</a>Scale up - Node declaration</h3><p>For the moment the operator is not able to add a new user inside NiFi cluster. So when you scale up the cluster, the node will join the cluster but will not create the user and associated policies.
This will be covered by the <a href="https://github.com/Orange-OpenSource/nifikop/issues/9">issue #9</a>, while waiting for this feature, you have to :</p><ol><li>Go on users page : </li></ol><p><img src="/nifikop/img/3_tasks/2_security/1_ssl/users.png" alt="users page"></p><ol start="2"><li>Create a new user entry with <code>&lt;NifiCluster&#x27;s name&gt;-&lt;NiFi node id&gt;-node.&lt;NifiCluster&#x27;s name&gt;-headless.&lt;NifiCluster&#x27;s namespace&gt;</code> name if you setup <strong>Headless</strong>, else use <code>&lt;NifiCluster&#x27;s name&gt;-&lt;NiFi node id&gt;-node.&lt;NifiCluster&#x27;s namespace&gt;</code> as name : </li></ol><p><img src="/nifikop/img/3_tasks/2_security/1_ssl/add_node_user.png" alt="add node&#x27;s user"></p><ol start="3"><li>The node require <code>proxy user requests</code> access policy, so go to the <code>Access Policies</code> page : </li></ol><p><img src="/nifikop/img/3_tasks/2_security/1_ssl/access_policies_page.png" alt="Access policies page"></p><ol start="4"><li>Add the node user to this policy : </li></ol><p><img src="/nifikop/img/3_tasks/2_security/1_ssl/access_policy_node.png" alt="Access policy Node"></p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/Orange-OpenSource/nifikop/edit/master/website/docs/3_tasks/2_security/1_ssl.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/nifikop/docs/3_tasks/1_nifi_cluster/2_cluster_scaling"><h5 class="pagination-nav__link--sublabel">Previous</h5><h4 class="pagination-nav__link--label">Â« Cluster Scaling</h4></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/nifikop/docs/3_tasks/2_security/2_authentication/1_oidc"><h5 class="pagination-nav__link--sublabel">Next</h5><h4 class="pagination-nav__link--label">OpenId Connect Â»</h4></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#using-an-existing-issuer" class="contents__link">Using an existing Issuer</a><ul><li><a href="#example--lets-encrypt" class="contents__link">Example : Let&#39;s encrypt</a></li></ul></li><li><a href="#create-ssl-credentials" class="contents__link">Create SSL credentials</a></li><li><a href="#current-limitations" class="contents__link">Current limitations</a><ul><li><a href="#operator-access-policies" class="contents__link">Operator access policies</a></li><li><a href="#scale-up---node-declaration" class="contents__link">Scale up - Node declaration</a></li></ul></li></ul></div></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Getting Started</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/nifikop/docs/1_concepts/1_introduction">Documentation</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://github.com/Orange-OpenSource/nifikop">GitHub</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://nifikop.slack.com">Slack</a></li><li class="footer__item"><a class="footer__link-item" href="/nifikop/blog">Blog</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Contact</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://github.com/Orange-OpenSource/nifikop/issues">Feature request</a></li></ul></div></div><div class="text--center">Copyright Â© 2020 Orange, Inc. Built with Docusaurus.</div></div></footer>
</div>

<script src="/nifikop/styles.fc6059d5.js"></script>

<script src="/nifikop/runtime~main.66f38fa7.js"></script>

<script src="/nifikop/main.517e2cd8.js"></script>

<script src="/nifikop/1.a7224f63.js"></script>

<script src="/nifikop/2.04f92f26.js"></script>

<script src="/nifikop/3.535b589c.js"></script>

<script src="/nifikop/1be78505.0706453b.js"></script>

<script src="/nifikop/4a20246b.62e51ece.js"></script>

<script src="/nifikop/17896441.9631df1f.js"></script>

<script src="/nifikop/27675046.5cc37da0.js"></script>


</body>
</html>