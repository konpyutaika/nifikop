<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-7_upgrade_guides/1_v0.7.x_to_v0.8.0" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.1">
<title data-rh="true">v0.7.x to v0.8.0 · NiFiKop</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://konpyutaika.github.io/nifikop/img/logo-og.png"><meta data-rh="true" name="twitter:image" content="https://konpyutaika.github.io/nifikop/img/logo-og.png"><meta data-rh="true" property="og:url" content="https://konpyutaika.github.io/nifikop/docs/next/7_upgrade_guides/1_v0.7.x_to_v0.8.0"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="v0.7.x to v0.8.0 · NiFiKop"><meta data-rh="true" name="description" content="Guide to migrate operator resources built using nifi.orange.com/v1alpha1 to nifi.konpyutaika/v1alpha1."><meta data-rh="true" property="og:description" content="Guide to migrate operator resources built using nifi.orange.com/v1alpha1 to nifi.konpyutaika/v1alpha1."><link data-rh="true" rel="icon" href="/nifikop/img/nifikop.ico"><link data-rh="true" rel="canonical" href="https://konpyutaika.github.io/nifikop/docs/next/7_upgrade_guides/1_v0.7.x_to_v0.8.0"><link data-rh="true" rel="alternate" href="https://konpyutaika.github.io/nifikop/docs/next/7_upgrade_guides/1_v0.7.x_to_v0.8.0" hreflang="en"><link data-rh="true" rel="alternate" href="https://konpyutaika.github.io/nifikop/docs/next/7_upgrade_guides/1_v0.7.x_to_v0.8.0" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://VBPOAOSEIB-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/nifikop/blog/rss.xml" title="NiFiKop RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/nifikop/blog/atom.xml" title="NiFiKop Atom Feed">
<link rel="alternate" type="application/json" href="/nifikop/blog/feed.json" title="NiFiKop JSON Feed">



<link rel="search" type="application/opensearchdescription+xml" title="NiFiKop" href="/nifikop/opensearch.xml">



<script src="https://cdn.jsdelivr.net/npm/focus-visible@5.2.0/dist/focus-visible.min.js" defer="defer"></script>
<script src="https://snack.expo.io/embed.js" defer="defer"></script><link rel="stylesheet" href="/nifikop/assets/css/styles.0a2b7f87.css">
<script src="/nifikop/assets/js/runtime~main.f8332382.js" defer="defer"></script>
<script src="/nifikop/assets/js/main.bbfe5e40.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_oPtH" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/nifikop/"><div class="navbar__logo"><img src="/nifikop/img/nifikop.png" alt="NiFiKop Logo" class="themedComponent_siVc themedComponent--light_hHel"><img src="/nifikop/img/nifikop.png" alt="NiFiKop Logo" class="themedComponent_siVc themedComponent--dark_yETr"></div><b class="navbar__title text--truncate">NiFiKop</b></a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/nifikop/docs/next/7_upgrade_guides/1_v0.7.x_to_v0.8.0">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/nifikop/docs/next/7_upgrade_guides/1_v0.7.x_to_v0.8.0">Next</a></li><li><a class="dropdown__link" href="/nifikop/docs/7_upgrade_guides/1_v0.7.x_to_v0.8.0">v1.11.4</a></li><li><a class="dropdown__link" href="/nifikop/docs/v1.11.3/7_upgrade_guides/1_v0.7.x_to_v0.8.0">v1.11.3</a></li><li><a class="dropdown__link" href="/nifikop/docs/v1.11.2/7_upgrade_guides/1_v0.7.x_to_v0.8.0">v1.11.2</a></li><li><a class="dropdown__link" href="/nifikop/docs/v1.11.1/7_upgrade_guides/1_v0.7.x_to_v0.8.0">v1.11.1</a></li><li><a class="dropdown__link" href="/nifikop/docs/v1.11.0/7_upgrade_guides/1_v0.7.x_to_v0.8.0">v1.11.0</a></li><li><a class="dropdown__link" href="/nifikop/docs/v1.10.0/7_upgrade_guides/1_v0.7.x_to_v0.8.0">v1.10.0</a></li><li><a class="dropdown__link" href="/nifikop/docs/v1.9.0/7_upgrade_guides/1_v0.7.x_to_v0.8.0">v1.9.0</a></li><li><a class="dropdown__link" href="/nifikop/docs/v1.8.0/7_upgrade_guides/1_v0.7.x_to_v0.8.0">v1.8.0</a></li><li><a class="dropdown__link" href="/nifikop/docs/v1.7.0/7_upgrade_guides/1_v0.7.x_to_v0.8.0">v1.7.0</a></li><li><a class="dropdown__link" href="/nifikop/docs/v1.6.0/7_upgrade_guides/1_v0.7.x_to_v0.8.0">v1.6.0</a></li><li><a class="dropdown__link" href="/nifikop/docs/v1.5.0/7_upgrade_guides/1_v0.7.x_to_v0.8.0">v1.5.0</a></li><li><a class="dropdown__link" href="/nifikop/docs/v1.4.1/7_upgrade_guides/1_v0.7.x_to_v0.8.0">v1.4.1</a></li><li><a class="dropdown__link" href="/nifikop/docs/v1.4.0/7_upgrade_guides/1_v0.7.x_to_v0.8.0">v1.4.0</a></li><li><a class="dropdown__link" href="/nifikop/docs/v1.3.1/7_upgrade_guides/1_v0.7.x_to_v0.8.0">v1.3.1</a></li><li><a class="dropdown__link" href="/nifikop/docs/v1.3.0/7_upgrade_guides/1_v0.7.x_to_v0.8.0">v1.3.0</a></li><li><a class="dropdown__link" href="/nifikop/docs/v1.2.0/7_upgrade_guides/1_v0.7.x_to_v0.8.0">v1.2.0</a></li><li><a class="dropdown__link" href="/nifikop/docs/v1.1.1/7_upgrade_guides/1_v0.7.x_to_v0.8.0">v1.1.1</a></li><li><a class="dropdown__link" href="/nifikop/docs/v1.1.0/7_upgrade_guides/1_v0.7.x_to_v0.8.0">v1.1.0</a></li><li><a class="dropdown__link" href="/nifikop/docs/v1.0.0/7_upgrade_guides/1_v0.7.x_to_v0.8.0">v1.0.0</a></li><li><a class="dropdown__link" href="/nifikop/docs/v0.16.0/7_upgrade_guides/1_v0.7.x_to_v0.8.0">v0.16.0</a></li><li><a class="dropdown__link" href="/nifikop/docs/v0.15.0/7_upgrade_guides/1_v0.7.x_to_v0.8.0">v0.15.0</a></li><li><a class="dropdown__link" href="/nifikop/docs/v0.14.1/7_upgrade_guides/1_v0.7.x_to_v0.8.0">v0.14.1</a></li><li><a class="dropdown__link" href="/nifikop/docs/v0.14.0/1_concepts/1_introduction">v0.14.0</a></li><li><a class="dropdown__link" href="/nifikop/docs/v0.13.0/1_concepts/1_introduction">v0.13.0</a></li><li><a class="dropdown__link" href="/nifikop/docs/v0.12.0/1_concepts/1_introduction">v0.12.0</a></li><li><a class="dropdown__link" href="/nifikop/docs/v0.11.0/1_concepts/1_introduction">v0.11.0</a></li><li><a class="dropdown__link" href="/nifikop/versions">All versions</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link header-doc-link" aria-label="Documentation" href="/nifikop/docs/1_concepts/1_start_here"></a><a class="navbar__item navbar__link header-blog-link" aria-label="Blog" href="/nifikop/blog"></a><a href="https://github.com/konpyutaika/nifikop" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_ki11 colorModeToggle_Hewu"><button class="clean-btn toggleButton_MMFG toggleButtonDisabled_Uw7m" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_lgto"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_U96C"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_bzqh"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_MB5r"><div class="docsWrapper__sE8"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_iEvu" type="button"></button><div class="docRoot_DfVB"><aside class="theme-doc-sidebar-container docSidebarContainer_c7NB"><div class="sidebarViewport_KYo0"><div class="sidebar_CUen"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_jmj1"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/nifikop/docs/next/1_concepts/1_start_here">Concepts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/nifikop/docs/next/2_deploy_nifikop/1_quick_start">Deploy NiFiKop</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/nifikop/docs/next/3_manage_nifi/1_manage_clusters/0_design_principles">Manage NiFi</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/nifikop/docs/next/4_compatibility_versions">Compatibility versions</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/nifikop/docs/next/5_references/1_nifi_cluster/">Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/nifikop/docs/next/6_contributing/0_contribution_organization">Contributing</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/nifikop/docs/next/7_upgrade_guides/1_v0.7.x_to_v0.8.0">Upgrade Guides</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/nifikop/docs/next/7_upgrade_guides/1_v0.7.x_to_v0.8.0">v0.7.x to v0.8.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/nifikop/docs/next/7_upgrade_guides/2_v0.14.1_to_v0.15.0">v0.14.1 to v0.15.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/nifikop/docs/next/7_upgrade_guides/3_v0.16.0_to_v1.0.0">v0.16.0 to v1.0.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/nifikop/docs/next/7_upgrade_guides/4_v1.3.1_to_v1.4.0">v1.3.1 to v1.4.0</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_a9sJ"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_Qr34"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->NiFiKop<!-- --> <b>Next</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/nifikop/docs/7_upgrade_guides/1_v0.7.x_to_v0.8.0">latest version</a></b> (<!-- -->v1.11.4<!-- -->).</div></div><div class="docItemContainer_tjFy"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_T5ub" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/nifikop/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_sfvy"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Upgrade Guides</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">v0.7.x to v0.8.0</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: Next</span><div class="tocCollapsible_wXna theme-doc-toc-mobile tocMobile_Ojys"><button type="button" class="clean-btn tocCollapsibleButton_iI2p">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>v0.7.x to v0.8.0</h1></header><p>Guide to migrate operator resources built using <code>nifi.orange.com/v1alpha1</code> to <code>nifi.konpyutaika/v1alpha1</code>.</p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="getting-started">Getting started<a href="#getting-started" class="hash-link" aria-label="Direct link to Getting started" title="Direct link to Getting started">​</a></h2>
<p>The goal is to migrate your NiFiKop resources from the old CRDs to the new ones without any service interruption.</p>
<p>To do this, it is necessary to have both versions of CRDs available on Kubernetes and to have the old operator stopped (to prevent any manipulation on the resources).
Then launch the script developed in nodejs presented in the following. The script will copy the resources in the old CRDs to the new CRDs keeping only the relevant fields (labels, annotations, name and spec) and then copy the status.</p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h2>
<ul>
<li><a href="https://nodejs.org/en/download/" target="_blank" rel="noopener noreferrer">nodejs</a> version 15.3.0+</li>
<li><a href="https://docs.npmjs.com/cli/v7/configuring-npm/install" target="_blank" rel="noopener noreferrer">npm</a> version 7.0.14+</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="initial-setup">Initial setup<a href="#initial-setup" class="hash-link" aria-label="Direct link to Initial setup" title="Direct link to Initial setup">​</a></h2>
<p>Create a nodejs project and download the required dependencies:</p>
<div class="language-bash codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-bash codeBlock_RMoD thin-scrollbar" style="color:#FFFFFF;background-color:#282C34"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#FFFFFF"><span class="token plain">npm init -y</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">npm install @kubernetes/client-node@0.16.3 minimist@1.2.6</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In <code>package.json</code> add the following script:</p>
<div class="language-json codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-json codeBlock_RMoD thin-scrollbar" style="color:#FFFFFF;background-color:#282C34"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#FFFFFF"><span class="token plain">&quot;start&quot;: &quot;node --no-warnings index.js&quot;</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Your <code>package.json</code> should look like that:</p>
<div class="language-json codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-json codeBlock_RMoD thin-scrollbar" style="color:#FFFFFF;background-color:#282C34"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#FFFFFF"><span class="token plain">{</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">  &quot;name&quot;: &quot;nifikop_crd_migration&quot;,</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">  &quot;version&quot;: &quot;1.0.0&quot;,</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">  &quot;description&quot;: &quot;Script to migrate from the old CRDs to the new CRDs.&quot;,</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">  &quot;main&quot;: &quot;index.js&quot;,</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">  &quot;scripts&quot;: {</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    &quot;start&quot;: &quot;node --no-warnings index.js&quot;,</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">  &quot;keywords&quot;: [</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    &quot;K8S&quot;,</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    &quot;NiFiKop&quot;,</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    &quot;CRDs&quot;</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">  ],</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">  &quot;license&quot;: &quot;ISC&quot;,</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">  &quot;dependencies&quot;: {</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    &quot;@kubernetes/client-node&quot;: &quot;^0.16.3&quot;,</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    &quot;minimist&quot;: &quot;^1.2.6&quot;</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="script-setup">Script setup<a href="#script-setup" class="hash-link" aria-label="Direct link to Script setup" title="Direct link to Script setup">​</a></h2>
<p>Create the file <code>index.js</code> with the following content:</p>
<div class="language-js codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-js codeBlock_RMoD thin-scrollbar" style="color:#FFFFFF;background-color:#282C34"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#FFFFFF"><span class="token plain">process</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">env</span><span class="token punctuation" style="color:#657b83">[</span><span class="token string" style="color:#8dc891">&#x27;NODE_TLS_REJECT_UNAUTHORIZED&#x27;</span><span class="token punctuation" style="color:#657b83">]</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> k8s </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">require</span><span class="token punctuation" style="color:#657b83">(</span><span class="token string" style="color:#8dc891">&#x27;@kubernetes/client-node&#x27;</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> kc </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">new</span><span class="token plain"> </span><span class="token class-name" style="color:#fac863">k8s</span><span class="token class-name punctuation" style="color:#657b83">.</span><span class="token class-name" style="color:#fac863">KubeConfig</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">kc</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">loadFromDefault</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> k8sApi </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> kc</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">makeApiClient</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">k8s</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access maybe-class-name">CustomObjectsApi</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> </span><span class="token constant" style="color:#5a9bcf">KONPYUTAIKA_GROUP</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;nifi.konpyutaika.com&#x27;</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> </span><span class="token constant" style="color:#5a9bcf">KONPYUTAIKA_GROUP_VERSION</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;v1alpha1&#x27;</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> </span><span class="token constant" style="color:#5a9bcf">ORANGE_GROUP</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;nifi.orange.com&#x27;</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> </span><span class="token constant" style="color:#5a9bcf">ORANGE_GROUP_VERSION</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;v1alpha1&#x27;</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#79b6f2">call</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">(</span><span class="token parameter constant" style="color:#5a9bcf">SRC_GRP</span><span class="token parameter punctuation" style="color:#657b83">,</span><span class="token parameter"> </span><span class="token parameter constant" style="color:#5a9bcf">SRC_GRP_VER</span><span class="token parameter punctuation" style="color:#657b83">,</span><span class="token parameter"> </span><span class="token parameter constant" style="color:#5a9bcf">DST_GRP</span><span class="token parameter punctuation" style="color:#657b83">,</span><span class="token parameter"> </span><span class="token parameter constant" style="color:#5a9bcf">DST_GRP_VER</span><span class="token parameter punctuation" style="color:#657b83">,</span><span class="token parameter"> </span><span class="token parameter constant" style="color:#5a9bcf">KIND_PLURAL</span><span class="token parameter punctuation" style="color:#657b83">,</span><span class="token parameter"> </span><span class="token parameter constant" style="color:#5a9bcf">NAMESPACE</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#fc929e">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">	</span><span class="token console class-name" style="color:#fac863">console</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">log</span><span class="token punctuation" style="color:#657b83">(</span><span class="token template-string template-punctuation string" style="color:#8dc891">`</span><span class="token template-string string" style="color:#8dc891">Listing </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation constant" style="color:#5a9bcf">KIND_PLURAL</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string string" style="color:#8dc891"> of </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation constant" style="color:#5a9bcf">SRC_GRP</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string string" style="color:#8dc891">/</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation constant" style="color:#5a9bcf">SRC_GRP_VER</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string string" style="color:#8dc891"> in </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation constant" style="color:#5a9bcf">NAMESPACE</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string string" style="color:#8dc891">...</span><span class="token template-string template-punctuation string" style="color:#8dc891">`</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">	</span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> listResources </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">(</span><span class="token keyword control-flow" style="color:#c5a5c5">await</span><span class="token plain"> k8sApi</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">listNamespacedCustomObject</span><span class="token punctuation" style="color:#657b83">(</span><span class="token constant" style="color:#5a9bcf">SRC_GRP</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token constant" style="color:#5a9bcf">SRC_GRP_VER</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token constant" style="color:#5a9bcf">NAMESPACE</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token constant" style="color:#5a9bcf">KIND_PLURAL</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">body</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">items</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">	</span><span class="token keyword control-flow" style="color:#c5a5c5">return</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:#fac863">Promise</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">all</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">listResources</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">map</span><span class="token punctuation" style="color:#657b83">(</span><span class="token keyword" style="color:#c5a5c5">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">(</span><span class="token parameter">resource</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#fc929e">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">		</span><span class="token keyword control-flow" style="color:#c5a5c5">try</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">			</span><span class="token console class-name" style="color:#fac863">console</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">log</span><span class="token punctuation" style="color:#657b83">(</span><span class="token template-string template-punctuation string" style="color:#8dc891">`</span><span class="token template-string string" style="color:#8dc891">Found </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation">resource</span><span class="token template-string interpolation punctuation" style="color:#657b83">.</span><span class="token template-string interpolation property-access">kind</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string string" style="color:#8dc891"> &quot;</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation">resource</span><span class="token template-string interpolation punctuation" style="color:#657b83">.</span><span class="token template-string interpolation property-access">metadata</span><span class="token template-string interpolation punctuation" style="color:#657b83">.</span><span class="token template-string interpolation property-access">name</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string string" style="color:#8dc891">&quot; of </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation">resource</span><span class="token template-string interpolation punctuation" style="color:#657b83">.</span><span class="token template-string interpolation property-access">apiVersion</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string string" style="color:#8dc891"> in </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation constant" style="color:#5a9bcf">NAMESPACE</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string template-punctuation string" style="color:#8dc891">`</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">			</span><span class="token keyword control-flow" style="color:#c5a5c5">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">resource</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">metadata</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">ownerReferences</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">				</span><span class="token console class-name" style="color:#fac863">console</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">log</span><span class="token punctuation" style="color:#657b83">(</span><span class="token template-string template-punctuation string" style="color:#8dc891">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation">resource</span><span class="token template-string interpolation punctuation" style="color:#657b83">.</span><span class="token template-string interpolation property-access">kind</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string string" style="color:#8dc891"> </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation">resource</span><span class="token template-string interpolation punctuation" style="color:#657b83">.</span><span class="token template-string interpolation property-access">metadata</span><span class="token template-string interpolation punctuation" style="color:#657b83">.</span><span class="token template-string interpolation property-access">name</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string string" style="color:#8dc891"> mananged by something else (ownerRefereces is set).</span><span class="token template-string template-punctuation string" style="color:#8dc891">`</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">				</span><span class="token keyword control-flow" style="color:#c5a5c5">return</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">			</span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">			</span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> bodyResource </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">				</span><span class="token literal-property property" style="color:#2aa198">apiVersion</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#8dc891">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation constant" style="color:#5a9bcf">DST_GRP</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string string" style="color:#8dc891">/</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation constant" style="color:#5a9bcf">DST_GRP_VER</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string template-punctuation string" style="color:#8dc891">`</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">				</span><span class="token literal-property property" style="color:#2aa198">kind</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> resource</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">kind</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">				</span><span class="token literal-property property" style="color:#2aa198">metadata</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">					</span><span class="token literal-property property" style="color:#2aa198">name</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> resource</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">metadata</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">name</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">					</span><span class="token literal-property property" style="color:#2aa198">annotations</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> resource</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">metadata</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">annotations</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">					</span><span class="token literal-property property" style="color:#2aa198">labels</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> resource</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">metadata</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">labels</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">				</span><span class="token punctuation" style="color:#657b83">}</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">				</span><span class="token literal-property property" style="color:#2aa198">spec</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> resource</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">spec</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">			</span><span class="token punctuation" style="color:#657b83">}</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">			</span><span class="token console class-name" style="color:#fac863">console</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">log</span><span class="token punctuation" style="color:#657b83">(</span><span class="token template-string template-punctuation string" style="color:#8dc891">`</span><span class="token template-string string" style="color:#8dc891">Creating </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation">bodyResource</span><span class="token template-string interpolation punctuation" style="color:#657b83">.</span><span class="token template-string interpolation property-access">kind</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string string" style="color:#8dc891"> &quot;</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation">bodyResource</span><span class="token template-string interpolation punctuation" style="color:#657b83">.</span><span class="token template-string interpolation property-access">metadata</span><span class="token template-string interpolation punctuation" style="color:#657b83">.</span><span class="token template-string interpolation property-access">name</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string string" style="color:#8dc891">&quot; of </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation">bodyResource</span><span class="token template-string interpolation punctuation" style="color:#657b83">.</span><span class="token template-string interpolation property-access">apiVersion</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string string" style="color:#8dc891"> in </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation constant" style="color:#5a9bcf">NAMESPACE</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string string" style="color:#8dc891">...</span><span class="token template-string template-punctuation string" style="color:#8dc891">`</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">			</span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> newResource </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">(</span><span class="token keyword control-flow" style="color:#c5a5c5">await</span><span class="token plain"> k8sApi</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">createNamespacedCustomObject</span><span class="token punctuation" style="color:#657b83">(</span><span class="token constant" style="color:#5a9bcf">DST_GRP</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token constant" style="color:#5a9bcf">DST_GRP_VER</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token constant" style="color:#5a9bcf">NAMESPACE</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token constant" style="color:#5a9bcf">KIND_PLURAL</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> bodyResource</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">body</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">			</span><span class="token console class-name" style="color:#fac863">console</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">log</span><span class="token punctuation" style="color:#657b83">(</span><span class="token string" style="color:#8dc891">&#x27;...done creating.&#x27;</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">			</span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> bodyStatus </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">				</span><span class="token literal-property property" style="color:#2aa198">apiVersion</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> newResource</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">apiVersion</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">				</span><span class="token literal-property property" style="color:#2aa198">kind</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> newResource</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">kind</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">				</span><span class="token literal-property property" style="color:#2aa198">metadata</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">					</span><span class="token literal-property property" style="color:#2aa198">name</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> newResource</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">metadata</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">name</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">					</span><span class="token literal-property property" style="color:#2aa198">resourceVersion</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> newResource</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">metadata</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">resourceVersion</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">				</span><span class="token punctuation" style="color:#657b83">}</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">				</span><span class="token literal-property property" style="color:#2aa198">status</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> resource</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">status</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">			</span><span class="token punctuation" style="color:#657b83">}</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">			</span><span class="token console class-name" style="color:#fac863">console</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">log</span><span class="token punctuation" style="color:#657b83">(</span><span class="token template-string template-punctuation string" style="color:#8dc891">`</span><span class="token template-string string" style="color:#8dc891">Copying status from </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation">resource</span><span class="token template-string interpolation punctuation" style="color:#657b83">.</span><span class="token template-string interpolation property-access">kind</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string string" style="color:#8dc891"> &quot;</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation">resource</span><span class="token template-string interpolation punctuation" style="color:#657b83">.</span><span class="token template-string interpolation property-access">metadata</span><span class="token template-string interpolation punctuation" style="color:#657b83">.</span><span class="token template-string interpolation property-access">name</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string string" style="color:#8dc891">&quot; of </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation">newResource</span><span class="token template-string interpolation punctuation" style="color:#657b83">.</span><span class="token template-string interpolation property-access">apiVersion</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string string" style="color:#8dc891"> to </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation">newResource</span><span class="token template-string interpolation punctuation" style="color:#657b83">.</span><span class="token template-string interpolation property-access">kind</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string string" style="color:#8dc891"> &quot;</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation">newResource</span><span class="token template-string interpolation punctuation" style="color:#657b83">.</span><span class="token template-string interpolation property-access">metadata</span><span class="token template-string interpolation punctuation" style="color:#657b83">.</span><span class="token template-string interpolation property-access">name</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string string" style="color:#8dc891">&quot; of </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation">newResource</span><span class="token template-string interpolation punctuation" style="color:#657b83">.</span><span class="token template-string interpolation property-access">apiVersion</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string string" style="color:#8dc891"> in </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation constant" style="color:#5a9bcf">NAMESPACE</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string string" style="color:#8dc891">...</span><span class="token template-string template-punctuation string" style="color:#8dc891">`</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">			</span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> newResourceWithStatus </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">(</span><span class="token keyword control-flow" style="color:#c5a5c5">await</span><span class="token plain"> k8sApi</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">replaceNamespacedCustomObjectStatus</span><span class="token punctuation" style="color:#657b83">(</span><span class="token constant" style="color:#5a9bcf">DST_GRP</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token constant" style="color:#5a9bcf">DST_GRP_VER</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token constant" style="color:#5a9bcf">NAMESPACE</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token constant" style="color:#5a9bcf">KIND_PLURAL</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> bodyStatus</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">metadata</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">name</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> bodyStatus</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">body</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">			</span><span class="token console class-name" style="color:#fac863">console</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">log</span><span class="token punctuation" style="color:#657b83">(</span><span class="token string" style="color:#8dc891">&#x27;...done copying.&#x27;</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">			</span><span class="token keyword control-flow" style="color:#c5a5c5">return</span><span class="token plain"> newResourceWithStatus</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">		</span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">		</span><span class="token keyword control-flow" style="color:#c5a5c5">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">e</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">			</span><span class="token console class-name" style="color:#fac863">console</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">error</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">e</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">body</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">?</span><span class="token plain"> e</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">body</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">message</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">?</span><span class="token plain"> e</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">body</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">message</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> e</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">body</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> e</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">		</span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">	</span><span class="token punctuation" style="color:#657b83">}</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token punctuation" style="color:#657b83">}</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> argv </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">require</span><span class="token punctuation" style="color:#657b83">(</span><span class="token string" style="color:#8dc891">&#x27;minimist&#x27;</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">process</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">argv</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">slice</span><span class="token punctuation" style="color:#657b83">(</span><span class="token number" style="color:#5a9bcf">2</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">let</span><span class="token plain"> </span><span class="token constant" style="color:#5a9bcf">NAMESPACE</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> argv</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">namespace</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">?</span><span class="token plain"> argv</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">namespace</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">0</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">?</span><span class="token plain"> argv</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">namespace</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">let</span><span class="token plain"> </span><span class="token constant" style="color:#5a9bcf">KIND_PLURAL</span><span class="token plain"> </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">	</span><span class="token literal-property property" style="color:#2aa198">cluster</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;nificlusters&#x27;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">	</span><span class="token literal-property property" style="color:#2aa198">dataflow</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;nifidataflows&#x27;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">	</span><span class="token literal-property property" style="color:#2aa198">parametercontext</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;nifiparametercontexts&#x27;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">	</span><span class="token literal-property property" style="color:#2aa198">registryclient</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;nifiregistryclients&#x27;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">	</span><span class="token literal-property property" style="color:#2aa198">user</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;nifiusers&#x27;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">	</span><span class="token literal-property property" style="color:#2aa198">usergroup</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;nifiusergroups&#x27;</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token punctuation" style="color:#657b83">}</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token keyword control-flow" style="color:#c5a5c5">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">(</span><span class="token operator" style="color:#fc929e">!</span><span class="token plain">argv</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">type</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">	</span><span class="token console class-name" style="color:#fac863">console</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">error</span><span class="token punctuation" style="color:#657b83">(</span><span class="token string" style="color:#8dc891">&#x27;Type not provided&#x27;</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">	process</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">exit</span><span class="token punctuation" style="color:#657b83">(</span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token keyword control-flow" style="color:#c5a5c5">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">(</span><span class="token operator" style="color:#fc929e">!</span><span class="token constant" style="color:#5a9bcf">KIND_PLURAL</span><span class="token punctuation" style="color:#657b83">[</span><span class="token plain">argv</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">type</span><span class="token punctuation" style="color:#657b83">]</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">	</span><span class="token console class-name" style="color:#fac863">console</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">error</span><span class="token punctuation" style="color:#657b83">(</span><span class="token template-string template-punctuation string" style="color:#8dc891">`</span><span class="token template-string string" style="color:#8dc891">Type </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation">argv</span><span class="token template-string interpolation punctuation" style="color:#657b83">.</span><span class="token template-string interpolation property-access">type</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string string" style="color:#8dc891"> is not one of the following types: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation known-class-name class-name" style="color:#fac863">Object</span><span class="token template-string interpolation punctuation" style="color:#657b83">.</span><span class="token template-string interpolation method function property-access" style="color:#79b6f2">keys</span><span class="token template-string interpolation punctuation" style="color:#657b83">(</span><span class="token template-string interpolation constant" style="color:#5a9bcf">KIND_PLURAL</span><span class="token template-string interpolation punctuation" style="color:#657b83">)</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string template-punctuation string" style="color:#8dc891">`</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">	process</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">exit</span><span class="token punctuation" style="color:#657b83">(</span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token console class-name" style="color:#fac863">console</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">log</span><span class="token punctuation" style="color:#657b83">(</span><span class="token template-string template-punctuation string" style="color:#8dc891">`</span><span class="token template-string string" style="color:#8dc891">########### START: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">${</span><span class="token template-string interpolation constant" style="color:#5a9bcf">KIND_PLURAL</span><span class="token template-string interpolation punctuation" style="color:#657b83">[</span><span class="token template-string interpolation">argv</span><span class="token template-string interpolation punctuation" style="color:#657b83">.</span><span class="token template-string interpolation property-access">type</span><span class="token template-string interpolation punctuation" style="color:#657b83">]</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#657b83">}</span><span class="token template-string string" style="color:#8dc891"> ###########</span><span class="token template-string template-punctuation string" style="color:#8dc891">`</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain"></span><span class="token function" style="color:#79b6f2">call</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain"> </span><span class="token constant" style="color:#5a9bcf">ORANGE_GROUP</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token constant" style="color:#5a9bcf">ORANGE_GROUP_VERSION</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token constant" style="color:#5a9bcf">KONPYUTAIKA_GROUP</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token constant" style="color:#5a9bcf">KONPYUTAIKA_GROUP_VERSION</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token constant" style="color:#5a9bcf">KIND_PLURAL</span><span class="token punctuation" style="color:#657b83">[</span><span class="token plain">argv</span><span class="token punctuation" style="color:#657b83">.</span><span class="token property-access">type</span><span class="token punctuation" style="color:#657b83">]</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> </span><span class="token constant" style="color:#5a9bcf">NAMESPACE</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">	</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">then</span><span class="token punctuation" style="color:#657b83">(</span><span class="token parameter">r</span><span class="token plain"> </span><span class="token arrow operator" style="color:#fc929e">=&gt;</span><span class="token plain"> </span><span class="token console class-name" style="color:#fac863">console</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">log</span><span class="token punctuation" style="color:#657b83">(</span><span class="token string" style="color:#8dc891">&#x27;############ END ############&#x27;</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">	</span><span class="token punctuation" style="color:#657b83">.</span><span class="token keyword control-flow" style="color:#c5a5c5">catch</span><span class="token punctuation" style="color:#657b83">(</span><span class="token parameter">e</span><span class="token plain"> </span><span class="token arrow operator" style="color:#fc929e">=&gt;</span><span class="token plain"> </span><span class="token console class-name" style="color:#fac863">console</span><span class="token punctuation" style="color:#657b83">.</span><span class="token method function property-access" style="color:#79b6f2">error</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">e</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="run-script">Run script<a href="#run-script" class="hash-link" aria-label="Direct link to Run script" title="Direct link to Run script">​</a></h2>
<p>To migrate the resources, run the following command:</p>
<div class="language-bash codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-bash codeBlock_RMoD thin-scrollbar" style="color:#FFFFFF;background-color:#282C34"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#FFFFFF"><span class="token plain">npm start -- --type=&lt;NIFIKOP_RESOURCE&gt; --namespace=&lt;K8S_NAMESPACE&gt;</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>with</p>
<ul>
<li><code>&lt;NIFIKOP_RESOURCE&gt;</code>: NiFiKop resource type (cluster, dataflow, user, usergroup, parametercontext or registryclient)</li>
<li><code>&lt;K8S_NAMESPACE&gt;:</code> Kubernetes namespace where the resources will be migrated</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/konpyutaika/nifikop/edit/master/site/website/../docs/7_upgrade_guides/1_v0.7.x_to_v0.8.0.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_bHB7" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_ydrU"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-09-24T19:12:55.000Z" itemprop="dateModified">Sep 24, 2022</time></b> by <b>Alexandre Guitton</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/nifikop/docs/next/6_contributing/3_credits"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Credits</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/nifikop/docs/next/7_upgrade_guides/2_v0.14.1_to_v0.15.0"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">v0.14.1 to v0.15.0</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_XG6w thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#getting-started" class="table-of-contents__link toc-highlight">Getting started</a></li><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#initial-setup" class="table-of-contents__link toc-highlight">Initial setup</a></li><li><a href="#script-setup" class="table-of-contents__link toc-highlight">Script setup</a></li><li><a href="#run-script" class="table-of-contents__link toc-highlight">Run script</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Getting Started</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/nifikop/docs/1_concepts/1_start_here">Documentation</a></li><li class="footer__item"><a href="https://github.com/konpyutaika/nifikop" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://join.slack.com/t/konpytika/shared_invite/zt-14md072lv-Jr8mqYoeUrqzfZF~YGUpXA" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/nifikop/blog">Blog</a></li></ul></div><div class="col footer__col"><div class="footer__title">Contact</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/konpyutaika/nifikop/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Feature request<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Orange, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>